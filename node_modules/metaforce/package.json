{
  "name": "metaforce",
  "description": "A wrapper for the Force.com Metadata API",
  "version": "0.0.1",
  "author": {
    "name": "Thomas Stachl",
    "email": "thomas@stachl.me"
  },
  "homepage": "https://github.com/tstachl/metaforce",
  "maintainers": [
    {
      "name": "Thomas Stachl",
      "email": "thomas@stachl.me"
    }
  ],
  "repository": {
    "type": "git",
    "url": "https://github.com/tstachl/metaforce.git"
  },
  "private": true,
  "dependencies": {
    "coffee-script": "1.4.0",
    "soap": "git://github.com/tstachl/node-soap.git#fe1e3afa34a594787179047c41cd2fb33f3a4687"
  },
  "devDependencies": {
    "mocha": "1.7.0",
    "should": "1.2.1",
    "node-zip": "0.0.2",
    "commander": "1.1.0"
  },
  "main": "lib/client",
  "scripts": {
    "test": "test/runner"
  },
  "licenses": [
    {
      "type": "MIT LICENSE",
      "url": "http://www.opensource.org/licenses/mit-license.php"
    }
  ],
  "engines": {
    "node": ">=0.8.0"
  },
  "readme": "_metaforce_ is a small Salesforce API client that makes working with the Salesforce Metadata, Partner and Apex API as easy as possible. \n\n## Installation\n_metaforce_ is currently in an alpha state and therefore not on npmjs.org but we'll be getting there hopefully soon. For now you can install the package by defining the git url in your `package.json`:\n\n    ...\n    \"dependencies\": {\n      \"metaforce\": \"git://github.com/tstachl/metaforce.git#master\",\n      ...\n    },\n    ...\n\n## Dependencies\nThe package depends on the [node-soap project](https://github.com/milewise/node-soap) lead by [@milewise](https://github.com/milewise).\n\n  * [node-soap](https://github.com/tstachl/node-soap)\n  * [coffee-script](http://coffeescript.org)\n\n## The Client\n*Client* is the API client for the Force.com Metadata, Partner and Apex API. It doesn't do anything else but interact with the api based on options you pass to the specific method. At the moment it only contains methods needed for the [Force.com CLI](https://github.com/tstachl/force) and the [Force.com Cloud9 Extension](https://github.com/tstachl/cloud9-forcecom-ext), but hopefully it'll soon be a full representation of the API and include a few methods to verify the options you use for the methods.\n\n### Public Methods\nBefore you can start sending off api calls you have two ways of constructing the client:\n\n    // both sid and endpoint are required to work from a session\n    var clientFromSession = new Client({\n      sid: 'MySessionId',\n      endpoint: 'https://na7-api.salesforce.com/services/Soap/u/26.0'\n    });\n    \n    // if you have a username and a password\n    var client = new Client();\n\n#### Partner API calls\n##### login()\nIf not already logged in this should be the first call it'll setup default params like user id and the metadata server url.\n\n    client.login({\n      username: 'my@username.com',\n      password: 'mypassword',\n      endpoint: 'login.salesforce.com' // or test.salesforce.com\n    }, function(err, response, request) {\n      // this call defines the following variables:\n      client.endpoint\n      client.sid\n      client.userId\n    });\n\n##### getUserInfo()\nReturns a hash of information on the user that's currently logged in.\n\n    client.getUserInfo(function(err, response, request) {\n      var userInfo = response.result;\n    });\n\n##### query()\nAllows you to run a SOQL query against the current organizations database.\n\n    client.query({\n      queryString: 'Select Id From Account'\n    }, function(err, response, request) {\n      var queryResult = response.result;\n    });\n\n#### Apex API calls\n##### compileApex()\nCompile Apex tries to compile the apex code of a class or a trigger it'll return a Compile[Class|Trigger]Result. To get further information on the response check out the [Salesforce documentation](http://www.salesforce.com/us/developer/docs/apexcode/Content/sforce_api_calls_compileandtest_result.htm)\n\n    client.compileApex({\n      type: 'ApexClass', // or ApexTrigger\n      scripts: 'public class ...'\n    }, function(err, response, request) {\n      var compileResult = response.result;\n    });\n\n##### executeApex()\nThis method executes apex code anonymously on the platform and returns the debug log to a certain extend. You can influence the categories and the debug level with values found here in the [documentation](http://www.salesforce.com/us/developer/docs/apexcode/Content/sforce_api_header_debuggingheader.htm)\n\n    client.executeApex({\n      apexcode: 'System.debug(\\'Test\\');',\n      categories: [\n        { category: 'Apex_code', level: 'Debug' }\n      ],\n      debugLevel: 'Debugonly'\n    }, function(err, response, request, header) {\n      var executeResult = response.result;\n      var debuggingInfo = header.DebuggingInfo;\n    });\n\n##### runTests()\nIf you tell this method the tests you want to be run it'll run them and return a detailed result with debug log. To influence the debugging you can set sepecific settings found here in the [documentation](http://www.salesforce.com/us/developer/docs/apexcode/Content/sforce_api_header_debuggingheader.htm)\n\n    client.runTests({\n      allTests: true,\n      categories: [\n        { category: 'Apex_code', level: 'Debug' }\n      ],\n      debugLevel: 'Debugonly'\n    }, function(err, response, request, header) {\n      var testResult = response.result;\n      var debuggingInfo = header.DebuggingInfo;\n    });\n\n#### Metadata API calls\n##### retrieve()\nRetrieve will start a zip process on the server for the required metadata. The response contains an Id which is used to check the status of the packaging process and to download the zip file once packaged. Specifics on the response can be found here in the [documentation](http://www.salesforce.com/us/developer/docs/api_meta/Content/meta_asyncresult.htm)\n\n    client.retrieve({\n      unpackaged: {\n        types: [{ \n          members: '*', \n          name: 'ApexPage'\n        }]\n      }\n    }, function(err, response, request) {\n      var retrieveId = response.result.id;\n    });\n\n##### checkRetrieveStatus()\nChecks the status of declarative metadata call retrieve() and returns the zip contents.\n\n    client.checkRetrieveStatus({\n      id: 'IdFromRetrieve'\n    }, function(err, response, request) {\n      var zipFile = response.result.zipFile;\n    });\n\n##### deploy()\nThis method takes a zip file (base64 encoded) and sends it to the server, based on the contents of the zip file it'll perform a create, update or delete.\n\n    client.deploy({\n      zipFile: 'Base64 encoded zip file',\n      deployOptions: {\n        checkOnly: true\n      }\n    }, function(err, response, request) {\n      var deployId = response.result.id;\n    });\n\n##### checkDeployStatus()\nChecks the status of declarative metadata call deploy().\n\n    client.checkDeployStatus({\n      id: 'IdFromDeploy'\n    }, function(err, response, request) {\n      var success = response.result.success;\n    });\n\n##### describe()\nThis call retrieves metadata which describes the organization.\n\n    client.describe({\n      apiVersion: '26.0'\n    }, function(err, response, request) {\n      var describeResult = response.result;\n    });\n\n##### list()\nRetrieve property information about the metadata components in the organization.\n\n    client.list({\n      queries: [{\n        type: 'ApexClass'\n      }],\n      asOfVersion: '26.0'\n    }, function(err, response, request) {\n      var listResult = response.result;\n    });\n\n#### Public Helper Methods\n##### checkStatus()\nChecks the status of asynchronous metadata calls create(), update(), delete() or the declarative metadata calls deploy() or retrieve().\n\n    client.checkStatus({\n      ids: ['RetrieveOrDeployId']\n    }, function(err, response, request) {\n      var isDone = response.result[0].done;\n    });\n\n### Contributions\nWe'd love to see some pull requests. Please make sure you add tests to your contributions and make sure it doesn't break any of the existing code.\n\n#### Requirements\n  * A clean Developer Org to run the tests [get one here](http://www.developerforce.com/events/regular/registration.php)\n  * Understanding of [CoffeeScript](http://coffeescript.org)\n\n#### Dependencies\n  * [Mocha](https://github.com/visionmedia/mocha)\n  * [Should.js](https://github.com/visionmedia/should.js)\n  * [node-zip](https://github.com/daraosn/node-zip)\n  * [Commander.js](https://github.com/visionmedia/commander.js)\n\n#### Running test\nWe created a little wrapper around the test because most test cases need a valid login to your developer org.\n\n    $ npm test\n    \n    > metaforce@0.0.1 test /Users/tstachl/Workspaces/Github/metaforce\n    > test/runner\n    \n    Username: your@developeredition.com\n    Password: ******************\n    \n    ...  Mocha Test Output ...\n\nYou can also start the test runner by typing:\n\n    $ test/runner\n\nHere is a little usage information:\n\n    $ test/runner --help\n    \n    Usage: runner [options]\n\n    Options:\n\n      -h, --help                 output usage information\n      -u, --username [username]  The username for the developer org.\n      -p, --passwd [password]    The password for the developer org.\n      -f, --file [file]          The file you want to test.\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/tstachl/metaforce/issues"
  },
  "_id": "metaforce@0.0.1",
  "dist": {
    "shasum": "41604cfc316b90069fe0c829a332cc0485b6ec52"
  },
  "_resolved": "git://github.com/tstachl/metaforce.git#6994fba1e7ba61a3122b19fc2a1e0bacb26cb62d",
  "_from": "metaforce@git://github.com/tstachl/metaforce.git#master"
}
